<div class="project-container" *ngIf="!showTaskEnable">
    <div *ngFor="let project of projectList" class="project-card">
        <h1 class="project-title">Project: {{ project.projectId }}</h1>
        <h3 class="project-name">{{ project.projectName }}</h3>
        <p class="project-description"><strong>Description:</strong> {{ project.description }}</p>
        <p class="project-status"><strong>Status:</strong> {{ project.status }}</p>
        
        <div class="project-dates">
            <p *ngIf="project.startDate"><strong>Start Date:</strong> {{ project.startDate | date: 'shortDate' }}</p>
            <p *ngIf="project.dueDate"><strong>Due Date:</strong> {{ project.dueDate | date: 'shortDate' }}</p>
        </div>
        
        <div class="assigned-user">
            <p><strong>Assigned User:</strong></p>
            <p><b>Name:</b> {{ project.user.name }}</p>
            <p><b>Email:</b> {{ project.user.email }}</p>
        </div>

        <div class="project-actions">
            <button (click)="editProject(project)" class="edit-btn">Edit</button>
            <button (click)="deleteProject(project.projectId)" class="delete-btn">Delete</button>
            <button (click)="showTasks(project.projectId)" class="task-btn">Show Tasks</button>
            <button (click)="addTask(project.projectId)" class="add-task-btn">Add Task</button>
        </div>

        <hr class="divider">
    </div>
</div>

<!-- Edit Project Form -->
<div *ngIf="editModeEnable" class="modal-overlay">
    <app-project-form [Project]="project" (CloseProjectEditEvent)="closeEditForm()"></app-project-form>
</div>

<!-- Show Tasks -->
<div *ngIf="showTaskEnable" class="task-container">
    <h1>Project Tasks</h1>
    <app-project-task-display [projectId]="projectId"></app-project-task-display>
    <button (click)="closeShowTask()" class="close-task-btn">Close</button>
</div>

<!-- Add Task -->
<div *ngIf="addTaskEnable" class="task-container">
    <app-project-task-form [projectId]="projectId" (closeTaskFormEvent)="closeAddTask()"></app-project-task-form>
</div>
